<!DOCTYPE HTML> //branch with audio

<html>

<head>
    <title>Dublin Squares Trial</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css" />
    <script src="https://code.jquery.com/jquery-2.2.4.js"></script>
    <script type="text/javascript" src="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>
    <script type="text/javascript" src="jquery.paroller.min.js"></script>



    <style>
        div#home {
            background-image: url("Oscar_Wilde1.jpg");
            background-position: center;
            background-repeat: no-repeat;
            background-size: cover;
            height: 100%;

        }

        ui-content {
            height: 100%;
        }

        a.discover {
            background-color: transparent;
            color: white;
            text-shadow: none;
            border-color: white;
            border-width: thick;
            border-radius: solid;
            box-shadow: none;
            font-size: 30px;
            text-align: center;
            margin-top: 90%;
            margin-left: 12%;
            margin-right: 60%;
        }

        div.discoverSection {
            margin-top: 20%;
        }

        button#music {
            margin-top: 23%;
            margin-left: 98%;
        }

        #home h1 {
            padding-left: 2%;
            color: white;
        }

        #home h3 {
            padding-top: 1%;
            padding-left: 2%;
            color: white;
        }

        .row {
            display: flex;
        }

        .column {
            flex: 25%;
            padding: 5px;
        }

        #merrionGeneral h3 {
            color: black;
        }

        #menuItem_1 img {
            height: 93vh;
        }

        #menuItem_2 img {
            height: 93vh;
        }

        #menuItem_3 img {
            height: 93vh;
        }

        #container {
            width: 100vw;
            height: 90%;
            overflow-y: scroll;
        }

        #progressBar {
            background-color: lightgoldenrodyellow;
            height: 5%;
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
        }

        #backgroundContainer1 img {
            width: 100vw;
            height: 100vh;
            background-size: cover;
        }

        #backgroundContainer2 img {
            width: 100vw;
            height: 100vh;
            background-size: cover;

        }

        #backgroundContainer3 img {
            width: 100vw;
            height: 100vh;
            background-size: cover;
        }
    </style>

</head>

<body>


    <div data-role="page" id="home">

        <div role="main" class="ui-content">

            <!--<button onclick="Play()" id="music"></button>
            <button id="music"></button>-->


            <div id="merrionLandingPage"></div>
            <div id="backgroundAudio"></div>

            <audio id="appAudio" loop>
                <source src="Hilouine/Hilouine.mp3" type="audio/mp3"/>
            </audio>
        </div>

    </div>


    <div data-role="page" id="merrionGeneral">

        <div role="main" class="ui-content">
            <div id="backgroundAudio"></div>

            <div class="row">
                <div class="column">
                    <div id="menuItem_1"></div>
                </div>
                <div class="column">
                    <div id="menuItem_2"></div>
                </div>
                <div class="column">
                    <div id="menuItem_3"></div>
                </div>

            </div>
        </div>
    </div>


    <div data-role="page" id="generalHistoryAndHistoricalEvents">

        <div id="container">

            <div id="backgroundContainer1">
            </div>

            <div id="backgroundContainer2">
            </div>

            <div id="backgroundContainer3">
            </div>

            <div id="backgroundContainer4">
            </div>

            <div id="backgroundContainer5">
            </div>

            <div id="backgroundContainer6">
            </div>

        </div>

        <div id=progressBar></div>

    </div>

    <div data-role="page" id="notableFigures">

        <h1>Notable Figures of Merrion Square</h1>

    </div>

    <div data-role="page" id="writtenAccounts">

        <h1>Written Accounts</h1>

    </div>





    <script>
        var backgroundAudio = document.getElementById('appAudio');
        var audioButton = document.getElementById('music');

        function Play() {
            if (backgroundAudio.paused) {
                backgroundAudio.play().loop;
                audioButton.style.background = 'url(Play.png) no-repeat';
            } else {
                backgroundAudio.pause();
                audioButton.style.background = 'url(Pause.png) no-repeat';
            }
        }
        /*
            function Pause() {
                if (backgroundAudio.play().loop;) {
                    audioButton.style.background = 'url(Play.png) no-repeat';
                } else {

                }
            }
        */


        function generateInitialPlayButton(audio) {
            var html = '';
            html += '<div>'
            html += '<button id="music"></button>\r\n'
            //html += '<audio id="' + audio.audioIdTag + '" loop><source src="' + audio.audioURL + '" type="audio/mp3"/></audio>\r\n'
            html += '</div>';
            return html;
        }

        function getAudio(audio) {
            var html = '';
            html += '<div>'
            html += '<audio id="' + audio.audioID + '"><source src=' + audio.audioURL + 'type="audio/mp3"/>\r\n'
            html += '</div>';
        }
        //audio object 
        var audioForApp = {
            audioIdTag: 'appAudio',
            audioURL: 'Hilouine/Hilouine.mp3'
        }


        var generalMerrionSquarePages = [];
        generalMerrionSquarePages[1] = {
            pageId: 'backgroundContainer1',
            pageContentsId: 'container1_content',
            image: 'dublinArchival.jpg',
            h1: 'Lorem Ipsum',
            p: 'Lorem ipsum dolor sit uip ex ea commodo consequat.'
        };
        generalMerrionSquarePages[2] = {
            pageId: 'backgroundContainer2',
            pageContentsId: 'container2_content',
            image: 'Dublin.png',
            h1: 'Lorem Ipsum',
            p: 'Lorem ipsum dolor sit uip ex ea commodo consequat.'
        };
        generalMerrionSquarePages[3] = {
            pageId: 'backgroundContainer3',
            pageContentsId: 'container3_content',
            image: 'Oscar_Wilde1.jpg',
            h1: 'Lorem Ipsum',
            p: 'Lorem ipsum dolor sit uip ex ea commodo consequat.'
        };
        generalMerrionSquarePages[4] = {
            pageId: 'backgroundContainer4',
            pageContentsId: 'container4_content',
            image: 'dublinArchival.jpg',
            h1: 'Lorem Ipsum',
            p: 'Lorem ipsum dolor sit uip ex ea commodo consequat.'
        };
        generalMerrionSquarePages[5] = {
            pageId: 'backgroundContainer5',
            pageContentsId: 'container5_content',
            image: 'Dublin.png',
            h1: 'Lorem Ipsum',
            p: 'Lorem ipsum dolor sit uip ex ea commodo consequat.'
        };
        generalMerrionSquarePages[6] = {
            pageId: 'backgroundContainer6',
            pageContentsId: 'container3_content',
            image: 'Oscar_Wilde1.jpg',
            h1: 'Lorem Ipsum',
            p: 'Lorem ipsum dolor sit uip ex ea commodo consequat.'
        };

        var landingPage = [];

        landingPage[1] = {
            h1: 'Merrion Square',
            h3: 'General History and Historical Events',
            button: '<a class="discover" data-role="button" data-mini="true" data-inline="true">Discover</a>',
            destination: 'merrionGeneral',
        };

        var generalMerrionMenuItems = [];
        generalMerrionMenuItems[1] = {
            destination: 'generalHistoryAndHistoricalEvents',
            title: 'General History And Historical Events',
            image: 'Oscar_Wilde2.jpg',
            style: 'width:100%',
            intro: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor',
            stories: '',
        };
        generalMerrionMenuItems[2] = {
            destination: 'notableFigures',
            title: 'Notable Figures',
            image: 'notableFigures.png',
            style: 'width:100%',
            intro: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor',
            stories: '',
        };
        generalMerrionMenuItems[3] = {
            destination: 'writtenAccounts',
            title: 'Written Accounts',
            image: 'Letter.png',
            style: 'width:100%',
            intro: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor',
            stories: '',
        };



        function getMerrionMenuItemsById(id, callBack) {
            var menuItems = generalMerrionMenuItems[id];
            callBack(menuItems);
        }

        function getLandingPageById(id, callBack) {
            var menuItems = landingPage[id];
            callBack(menuItems);
        }

        function getMerrionSquarePageById(id, callBack) {
            var menuItems = generalMerrionSquarePages[id];
            callBack(menuItems);
        }


        function generateLandingPage(items) {
            var html = '';
            html += '<div>'
            html += '<h1>' + items.h1 + '</h1>\r\n'
            html += '<h3>' + items.h3 + '</h3>\r\n'
            html += '<div class="discoverSection" data-destination="#' + items.destination + '">' + items.button + '\r\n'
            html += '</div>';
            return html;
        }

        function generateMerrionMenu(menu) {
            var html = '';
            html += '<div>'
            html += '<div class="menuLink" data-destination="#' + menu.destination + '">\r\n'
            html += '<img src="' + menu.image + '" style="' + menu.style + '">\r\n'
            html += '<h3>' + menu.title + '</h3>' + '</div>'
            html += '</div>';
            return html;
        }

        function generateGeneralMerrionPages(page) {
            var html = '';
            html += '<div>'
            html += '<img src="' + page.image + '" />\r\n'
            html += '<div class="' + page.pageContentsId + '">\r\n'
            html += '<h1>' + page.h1 + '</h1>\r\n'
            html += '<p>' + page.p + '</p>\r\n'
            html += '</div>';
            return html;
        }



        $(document).ready(function() {
            console.log(generateInitialPlayButton(audioForApp));
            $('#backgroundAudio').html(generateInitialPlayButton());




            getLandingPageById(1, function(item) {
                console.log(generateLandingPage(item));
                $('#merrionLandingPage').html(generateLandingPage(item));
            });



            getMerrionMenuItemsById(1, function(menuItem) {
                console.log(generateMerrionMenu(menuItem));
                $('#menuItem_1').html(generateMerrionMenu(menuItem));
            });
            getMerrionMenuItemsById(2, function(menuItem) {
                console.log(generateMerrionMenu(menuItem));
                $('#menuItem_2').html(generateMerrionMenu(menuItem));
            });
            getMerrionMenuItemsById(3, function(menuItem) {
                console.log(generateMerrionMenu(menuItem));
                $('#menuItem_3').html(generateMerrionMenu(menuItem));
            });



            getMerrionSquarePageById(1, function(page) {
                console.log('hello 1');
                console.log(generateGeneralMerrionPages(page));
                $('#backgroundContainer1').html(generateGeneralMerrionPages(page));
            });
            getMerrionSquarePageById(2, function(page) {
                console.log('hello 2');
                console.log(generateGeneralMerrionPages(page));
                $('#backgroundContainer2').html(generateGeneralMerrionPages(page));
            });
            getMerrionSquarePageById(3, function(page) {
                console.log('hello 3');
                console.log(generateGeneralMerrionPages(page));
                $('#backgroundContainer3').html(generateGeneralMerrionPages(page));
            });
            getMerrionSquarePageById(4, function(page) {
                console.log('hello 4');
                console.log(generateGeneralMerrionPages(page));
                $('#backgroundContainer4').html(generateGeneralMerrionPages(page));
            });
            getMerrionSquarePageById(5, function(page) {
                console.log('hello 5');
                console.log(generateGeneralMerrionPages(page));
                $('#backgroundContainer5').html(generateGeneralMerrionPages(page));
            });
            getMerrionSquarePageById(6, function(page) {
                console.log('hello 6');
                console.log(generateGeneralMerrionPages(page));
                $('#backgroundContainer6').html(generateGeneralMerrionPages(page));
            });



            $('.discoverSection').click(function(e) {
                e.preventDefault();
                debugger;
                var dataDestination = $(this).data('destination');
                console.log(dataDestination);

                $.mobile.changePage(dataDestination, {
                    transition: "slide"
                });
            });

            $('#music').click(function(e) {
                e.preventDefault();
                debugger;
                Play();
            });
            /*  
            $('.scrollThruSection').scroll(function(e) {
                  e.preventDefault();
                  debugger;
                  var dataDestination = $(this).data('destination');
                  console.log(dataDestination);

                  $.mobile.changePage(dataDestination, {
                      transition: "slide"
                  });
              });
              */

            $('.menuLink').click(function(e) {
                e.preventDefault();
                debugger;
                var dataDestination = $(this).data('destination');
                console.log(dataDestination);

                $.mobile.changePage(dataDestination, {
                    transition: "slide"
                });
            });

        });
    </script>
</body>

</html>
